---
import { Heart, Briefcase, Sparkles, Utensils } from 'lucide-react';

export interface Props {
  title: string;
  description: string;
  icon: string;
  features: string[];
  image?: string;
  delay?: number;
}

const { title, description, icon, features, image, delay = 0 } = Astro.props;

// Mapeo de nombres de iconos a componentes
const iconMap = {
  heart: Heart,
  briefcase: Briefcase,
  sparkles: Sparkles,
  utensils: Utensils,
};

const IconComponent = iconMap[icon as keyof typeof iconMap];
---

<div
  class="card group cursor-pointer"
  data-aos="fade-up"
  data-aos-delay={delay}
  data-aos-duration="600"
>
  <!-- Image (opcional) -->
  {image && (
    <div class="relative h-48 mb-6 overflow-hidden rounded-lg">
      <img
        src={image}
        alt={title}
        class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"
        loading="lazy"
      />
      <div class="absolute inset-0 bg-gradient-to-t from-dark-900/60 to-transparent"></div>
    </div>
  )}

  <!-- Icon -->
  <div class="flex items-center justify-center w-16 h-16 mb-6 bg-gradient-to-br from-primary-600 to-primary-400 rounded-xl shadow-lg group-hover:shadow-xl group-hover:scale-110 transition-all duration-300">
    {IconComponent && <IconComponent className="w-8 h-8 text-white" />}
  </div>

  <!-- Content -->
  <h3 class="text-2xl font-serif font-bold text-dark-900 mb-3 group-hover:text-primary-600 transition-colors">
    {title}
  </h3>

  <p class="text-dark-600 mb-6 leading-relaxed">
    {description}
  </p>

  <!-- Features -->
  <ul class="space-y-2 mb-6">
    {features.map((feature) => (
      <li class="flex items-start text-sm text-dark-700">
        <svg
          class="w-5 h-5 text-primary-600 mr-2 mt-0.5 flex-shrink-0"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M5 13l4 4L19 7"
          ></path>
        </svg>
        <span>{feature}</span>
      </li>
    ))}
  </ul>

  <!-- CTA -->
  <a
    href="/contact"
    class="inline-flex items-center text-primary-600 font-medium hover:text-primary-700 transition-colors group/link"
  >
    Consultar Disponibilidad
    <svg
      class="w-5 h-5 ml-2 group-hover/link:translate-x-1 transition-transform"
      fill="none"
      stroke="currentColor"
      viewBox="0 0 24 24"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        stroke-linecap="round"
        stroke-linejoin="round"
        stroke-width="2"
        d="M17 8l4 4m0 0l-4 4m4-4H3"
      ></path>
    </svg>
  </a>
</div>
